<!DOCTYPE html>
<html>
<head>

<!--[if lt IE 9]><script src="./excanvas.min.js"></script><![endif]-->
<style>
	body {
		background: #fff;
		font-family: Helvetica, sans-serif;
		color: black;
	}
	li.options .i {
		clear: both;
		min-height: 2em;
	}
	li.options .p {
		display: inline-block;
		width: 10em;
	}
	li.options .o {
		display: inline-block;
		margin-right: 16px;
	}
	li.options .h {
		margin-bottom: 1em;
		display: inline-block;
		opacity: 0.2;
		filter: alpha(20);
	}
	li.options .i:hover .h {
		opacity: 0.7;
		filter: alpha(70);
	}
</style>
<script src="jquery-1.10.0.min.js"></script>
<script src="virtualsky.js" type="text/javascript"></script>

<script>
$(document).ready(function() {
// 		planetarium = $.virtualsky({id:'preview',width:500,height:350});
		window.onload = function(){
			skydefault = $.virtualsky({});
			$('.version').html(skydefault.version);
			planetarium = $.virtualsky({
                id: 'starmap1',
                projection: 'gnomic',
                latitude: 214,
                longitude: 53,
                negative: true,
                constellations: false,
                equitorialgridlines: true
//                 fov: '50'
        	});
			planetarium.draw();
			update();
		
		
//         planetarium.addPointer({
//         	'ra':152.75,
//             'dec':.25,
//             'label':'Test Box',
//             'img':'https://pbs.twimg.com/profile_images/378800000822867536/3f5a00acf72df93528b6bb7cd0a4fd0c.jpeg',
//             'url':'http://aegis.ucolick.org/tech_overview.html',
//             'credit':'Wikisky',
//             'colour':'rgb(255,220,220)'	
//         })	
	
		   planetarium.addPointer({
			   'ra':265,
			   'dec':29,
			   'label':'SDSS',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':237.5,
			   'dec':4,
			   'label':'VISTA:KIDS',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':50,
			   'dec':-22,
			   'label':'VISTA:KIDS',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':60,
			   'dec':-17,
			   'label':'VISTA:ATLAS',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':232.5,
			   'dec':-8,
			   'label':'VISTA:ATLAS',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':102.5,
			   'dec':-30,
			   'label':'VISTA:DES',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':50,
			   'dec':0.1,
			   'label':'VISTA:DES',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':30.2,
			   'dec':-8,
			   'label':'GAMMA:G02',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':141,
			   'dec':3,
			   'label':'GAMMA:G09',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':174,
			   'dec':2,
			   'label':'GAMMA:G12',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':211.5,
			   'dec':3,
			   'label':'GAMMA:G15',
			   'colour':'rgb(255,220,220)'
		   })
	  
		   planetarium.addPointer({
			   'ra':351,
			   'dec':-30,
			   'label':'GAMAMA:G23',
			   'colour':'rgb(255,220,220)'
		   })
			  
			  
		   planetarium.addPointer({
			   'ra':214.75,
			   'dec':52.75,
			   'label':'AEGIS Surveys',
			   'img':'http://localhost/~Nicky/VirtualSky-master/Metadata/AegisSurveyMetadata.jpg',
			   'url':'http://localhost/~Nicky/VirtualSky-master/Metadata/AegisSurveyMetadata.pdf',
			   'credit':'AEGIS',
			   'colour':'rgb(255,220,220)'	
		   })	
		 
	//         $('button#testbox').on('click',function(){
	//                 planetarium.panTo(152.75,0.25,3000)
	//         });
	  
		   $('button#AEGIS').on('click',function(){
				   planetarium.panTo(214.75,52.75,3000)
		   });
	  
		   $('button#Abel2219').on('click',function(){
				   planetarium.panTo(250.05,46.75,3000)
		   });
        };
});

window.onload = function(){
			skydefault = $.virtualsky({});
			$('.version').html(skydefault.version);
			planetarium = $.virtualsky({id:'preview',width:500,height:350});
			planetarium.draw();
			update();
		};

function update(el) {
			property = (el) ? el.name : "";
			value = (el) ? el.value : "";
			
			if(property == 'showgalaxy') planetarium.showgalaxy = (value == "true") ? true: false;

			
			planetarium.draw();
			
			var str = "<iframe width=\""+planetarium.wide+"\" height=\""+planetarium.tall+"\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\" src=\"";
			var uri = "http://lcogt.net/virtualsky/embed/?";
			uri += "longitude="+(planetarium.longitude*planetarium.r2d);
			uri += "&latitude="+(planetarium.latitude*planetarium.r2d);
		
			if(skydefault.showgalaxy != planetarium.showgalaxy) uri += "&showgalaxy="+planetarium.showgalaxy;

			str += encodeURI(uri);
			str += "\" allowTransparency=\"true\"></iframe>";
			
			el = document.getElementById('embedcode');
// 			el.value = str;


}
</script>

</head>

<body>

<div id="starmap1" style="width:600px;height:600px;"></div>
<!-- <button id="testbox">Move to The Test Box</button> -->
<button id="AEGIS">Move to AEGIS Surveys</button>
<button id="Abel2219">Move to Abel:2219</button>

<form>
<ol>
	<li class="options">
		<div class="i">
			<div class="p">Show Survey Boxes?</div>
			<div class="o">
			<input type="radio" name="showgalaxy" value="true" onChange="update(this)" checked /> Yes
			<input type="radio" name="showgalaxy" value="false" onChange="update(this)"  /> No
			</div>
		</div>
	</li>

</ol>
</form>


</body>
</html>

